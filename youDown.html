<!DOCTYPE html>
<head>

  <link rel="shortcut icon" href="favicon.ico" />
  <link href="normalize.css" rel="stylesheet">

  <title>OBD</title>

  <style>

  </style>

</head>

<body>
  <header id="headerDown">

    <h1>You Deserve a Dance Party</h1>

  </header>

<div class="wrapper">
  <div id="danceHall">
    <img id="breadSlice" src="images/breadslice2.jpg" style="position: absolute; bottom: 160px; left: 480px;">
    <img id="breadLoaf" src="images/miracleDancing.jpg" style="position: absolute; bottom: 140px; left: 130px;">
  </div>

  <iframe id="video" src="https://player.vimeo.com/video/154691338?autoplay=1#t=0m1s">
  </iframe>
</div>

  <footer>
    <ul>
      <li class="menuList"><a class="normalJumps" href="index.html">Home</a></li>
      <li class="menuList"><a class="normalJumps" href="letsBake.html">Let's Bake</a></li>
      <li class="menuList"><a class="normalJumps" href="garlic.html">Gonna Need Something to Go with That</a></li>
      <li class="menuList"><a class="normalJumps" href="inspiration.html">Inspiration &amp Resources<a></li>
    </ul>

    <p class="floatRight" style="margin: 10px 10px 10px 0;">&copy 2017</p>

  </footer>

  <script>

      //the following variables get each loaf of dancing bread by their ids

    const breadSliceVar = document.getElementById('breadSlice')
    const breadLoafVar = document.getElementById('breadLoaf')

      // the following four functions govern the movement of the loaf that is the argument. Which direction-function
      // is used is picked by the pickDirection function below
    function moveSliceLeft(breadType) {
      var leftNumbers = breadType.style.left.replace('px', '')
      var left = parseInt(leftNumbers, 10)
      function stepLeft() {
        if (left > 20) {
          breadType.style.left = `${left - 20}px`
          }
        }
        window.requestAnimationFrame(stepLeft)
      }

    function moveSliceRight(breadType) {
      var leftNumbers = breadType.style.left.replace('px', '')
      var left = parseInt(leftNumbers, 10)
      function stepRight() {
        if (left < 620) {
          breadType.style.left = `${left + 20}px`
          }
        }
        window.requestAnimationFrame(stepRight)
      }

    function moveSliceUp(breadType) {
      var bottomNumbers = breadType.style.bottom.replace('px', '')
      var bottom = parseInt(bottomNumbers, 10)
      function stepUp() {
        if (bottom < 300) {
          breadType.style.bottom = `${bottom + 20}px`
          }
        }
        window.requestAnimationFrame(stepUp)
      }

    function moveSliceDown(breadType) {
      var bottomNumbers = breadType.style.bottom.replace('px', '')
      var bottom = parseInt(bottomNumbers, 10)
      function stepDown() {
        if (bottom > 20) {
          breadType.style.bottom = `${bottom - 20}px`
          }
        }
        window.requestAnimationFrame(stepDown)
      }

      // pickDirection() uses Math.random to pick up, down, left, or right direction for the loaf that is the argument.
    function pickDirection(breadType) {
      var direction = Math.floor(Math.random()*100)
      if (direction <= 25) {
        moveSliceUp(breadType)
      }
      else if (direction > 25 && direction <= 50) {
        moveSliceDown(breadType)
      }
      else if (direction > 50 && direction <= 75) {
        moveSliceRight(breadType)
      }
      else if (direction > 75) {
        moveSliceLeft(breadType)
      }
    }

      // danceAround() uses pickDirection function for each loaf of bread
    function danceAround() {
      pickDirection(breadSliceVar)
      pickDirection(breadLoafVar)
    }
    
      // Want images to start dancing and repeat movements (via setInterval),
      // but need delayed start to let video load up and start autoplaying.
      // delayedStart() starts the repeating of danceAround 2.5 seconds after load.
    function delayedStart() {
      setTimeout(function() {setInterval(danceAround, 500)}, 2500)
    }

    //loading delayedStart function on opening of window
    window.onload = delayedStart()

  </script>

</body>
